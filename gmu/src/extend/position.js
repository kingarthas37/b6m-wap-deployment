!function(t){function e(t,e){return(parseInt(t,10)||0)*(l.test(t)?e/100:1)}function n(t,n,o,f){return["right"===t[0]?o:"center"===t[0]?o/2:0,"bottom"===t[1]?f:"center"===t[1]?f/2:0,e(n[0],o),e(n[1],f)]}function o(t){var e=t[0],n=e.preventDefault;return e=e.touches&&e.touches[0]||e,9===e.nodeType||e===window||n?{width:n?0:t.width(),height:n?0:t.height(),top:e.pageYOffset||e.pageY||0,left:e.pageXOffset||e.pageX||0}:t.offset()}function f(e){var n=t(e=e||window),f=o(n);return e=n[0],{$el:n,width:f.width,height:f.height,scrollLeft:e.pageXOffset||e.scrollLeft,scrollTop:e.pageYOffset||e.scrollTop}}function i(t,e){["my","at"].forEach(function(n){var o=(t[n]||"").split(" "),f=t[n]=["center","center"],i=e[n]=[0,0];1===o.length&&o[p.test(o[0])?"unshift":"push"]("center"),s.test(o[0])&&(f[0]=RegExp.$1)&&(i[0]=RegExp.$2),p.test(o[1])&&(f[1]=RegExp.$1)&&(i[1]=RegExp.$2)})}var r=t.fn.position,h=Math.round,s=/^(left|center|right)([\+\-]\d+%?)?$/,p=/^(top|center|bottom)([\+\-]\d+%?)?$/,l=/%$/;t.fn.position=function(e){if(!e||!e.of)return r.call(this);e=t.extend({},e);var s,p=t(e.of),l=e.collision,c=l&&f(e.within),a={},u=o(p),g={left:u.left,top:u.top};return p[0].preventDefault&&(e.at="left top"),i(e,a),s=n(e.at,a.at,u.width,u.height),g.left+=s[0]+s[2],g.top+=s[1]+s[3],this.each(function(){var o=t(this),f=o.offset(),i=t.extend({},g),r=n(e.my,a.my,f.width,f.height);i.left=h(i.left+r[2]-r[0]),i.top=h(i.top+r[3]-r[1]),l&&l.call(this,i,{of:u,offset:f,my:e.my,at:e.at,within:c,$el:o}),i.using=e.using,o.offset(i)})}}(Zepto);