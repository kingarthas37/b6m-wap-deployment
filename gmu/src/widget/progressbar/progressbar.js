!function(t,e,o){t.define("Progressbar",{options:{initValue:0,horizontal:!0,transitionDuration:300,_isShow:!0,_current:0,_percent:0},_init:function(){var t,o,i,r,n,s=this;s.on("ready",function(){t=s.$el,o=e.proxy(s._eventHandler,s),i=t.find(".ui-progressbar-button"),r=t.find(".ui-progressbar-bg"),n=t.offset(),i.on("touchstart touchmove touchend touchcancel",o),r.on("touchstart",o),e.extend(s._options,{_button:i[0],$_background:r,_filled:t.find(".ui-progressbar-filled")[0],_width:n.width,_height:n.height}),s._options.horizontal&&n.width&&t.width(n.width),s._options.initValue>0&&s.value(s._options.initValue)}),s.on("destroy",function(){s._options.setup||s.$el.remove()})},_create:function(){var t=this,o=t._options.horizontal?"h":"v";t.$el||(t.$el=e("<div></div>")),t.$el.addClass("ui-progressbar-"+o).appendTo(t._options.container||(t.$el.parent().length?"":document.body)).html('<div class="ui-progressbar-bg"><div class="ui-progressbar-filled"></div><div class="ui-progressbar-button"><div><b></b></div></div></div>')},_eventHandler:function(t){var o=this;switch(t.type){case"touchmove":o._touchMove(t);break;case"touchstart":e(t.target).hasClass("ui-progressbar-bg")?o._click(t):o._touchStart(t);break;case"touchcancel":case"touchend":o._touchEnd();break;case"tap":o._click(t)}},_touchStart:function(t){var o=this,i=o._options;e.extend(o._options,{pageX:t.touches[0].pageX,pageY:t.touches[0].pageY,S:!1,T:!1,X:0,Y:0}),i._button.style.webkitTransitionDuration="0ms",i._filled.style.webkitTransitionDuration="0ms",e(i._button).addClass("ui-progressbar-button-pressed"),o.trigger("dragStart")},_touchMove:function(t){var e,o=this,i=o._options,r=t.touches[0],n=r.pageX-i.pageX,s=r.pageY-i.pageY;if(!i.T){var a=Math.abs(n)<Math.abs(r.pageY-i.pageY);i.T=!0,i.S=a}i.horizontal?i.S||(t.stopPropagation(),t.preventDefault(),e=(n+i._current)/i._width*100,100>=e&&e>=0&&(i._percent=e,i.X=n,i._button.style.webkitTransform="translate3d("+(i.X+i._current)+"px,0,0)",i._filled.style.width=e+"%",o.trigger("valueChange")),o.trigger("dragMove")):i.S&&(t.stopPropagation(),t.preventDefault(),e=-(i._current+s)/i._height*100,100>=e&&e>=0&&(i._percent=e,i.Y=s,i._button.style.webkitTransform="translate3d(0,"+(s+i._current)+"px,0)",i._filled.style.cssText+="height:"+e+"%;top:"+(i._height+s+i._current)+"px",o.trigger("valueChange")),o.trigger("dragMove"))},_touchEnd:function(){var t=this,o=t._options;o._current+=o.horizontal?o.X:o.Y,e(o._button).removeClass("ui-progressbar-button-pressed"),t.trigger("dragEnd")},_click:function(t){var e=this,o=e._options,i=o.$_background.offset(),r=t.touches[0];o.horizontal?e.value((r.pageX-i.left)/o._width*100):e.value((o._height-r.pageY+i.top)/o._height*100)},value:function(t){var e,i,r=this,n=r._options;return t===o?n._percent:(t=parseFloat(t),isNaN(t)?r:(t=t>100?100:0>t?0:t,n._percent=t,i=";-webkit-transition-duration:"+n.transitionDuration+"ms",n.horizontal?(e=n._current=n._width*t/100,n._button.style.cssText+="-webkit-transform:translate3d("+e+"px,0,0)"+i,n._filled.style.cssText+="width:"+t+"%"+i):(e=n._current=n._height*t/-100,n._button.style.cssText+="-webkit-transform:translate3d(0,"+e+"px,0)"+i,n._filled.style.cssText+="height:"+t+"%;top:"+(n._height+e)+"px"+i),r.trigger("valueChange"),r))},show:function(){var t=this;return t._options._isShow||(t.$el.css("display","block"),t._options._isShow=!0),t},hide:function(){var t=this;return t._options._isShow&&(t.$el.css("display","none"),t._options._isShow=!1),t}})}(gmu,gmu.$);