!function(t,o){t.define("Toolbar",{options:{container:document.body,title:"标题",leftBtns:[],rightBtns:[],fixed:!1},_init:function(){var t,n=this,e=n._options;e.container||(e.container=document.body),n.on("ready",function(){if(t=n.$el,e.fixed){var i,r=o('<div class="ui-toolbar-placeholder"></div>').height(t.offset().height).insertBefore(t).append(t).append(t.clone().css({"z-index":1,position:"absolute",top:0})),a=t.offset().top,l=function(){document.body.scrollTop>a?t.css({position:"fixed",top:0}):t.css("position","absolute")};o(window).on("touchmove touchend touchcancel scroll scrollStop",l),o(document).on("touchend touchcancel",i=function(){setTimeout(function(){l()},200)}),n.on("destroy",function(){o(window).off("touchmove touchend touchcancel scroll scrollStop",l),o(document).off("touchend touchcancel",i),t.insertBefore(r),r.remove(),n._removeDom()}),l()}}),n.on("destroy",function(){n._removeDom()})},_create:function(){var t=this,n=t._options,e=t.getEl(),i=o(n.container),r=[],a=t.btnGroups={left:[],right:[]},l=a.left;n.setup||(e&&e.length>0?e.appendTo(i):e=t.$el=o("<div>").appendTo(i)),r=e.children(),$toolbarWrap=e.find(".ui-toolbar-wrap"),0===$toolbarWrap.length?$toolbarWrap=o('<div class="ui-toolbar-wrap"></div>').appendTo(e):r=$toolbarWrap.children(),r.forEach(function(o){$toolbarWrap.append(o),/^[hH]/.test(o.tagName)?(l=a.right,t.title=o):l.push(o)});var s=$toolbarWrap.find(".ui-toolbar-left"),c=$toolbarWrap.find(".ui-toolbar-right");0===s.length&&(s=r.length?o('<div class="ui-toolbar-left">').insertBefore(r[0]):o('<div class="ui-toolbar-left">').appendTo($toolbarWrap),a.left.forEach(function(t){o(t).addClass("ui-toolbar-button"),s.append(t)}),c=o('<div class="ui-toolbar-right">').appendTo($toolbarWrap),a.right.forEach(function(t){o(t).addClass("ui-toolbar-button"),c.append(t)})),e.addClass("ui-toolbar"),o(t.title).length?o(t.title).addClass("ui-toolbar-title"):o('<h1 class="ui-toolbar-title">'+n.title+"</h1>").insertAfter(s),t.btnContainer={left:s,right:c},t.addBtns("left",n.leftBtns),t.addBtns("right",n.rightBtns)},_addBtn:function(t,n){o(n).appendTo(t).addClass("ui-toolbar-button")},addBtns:function(o,n){var e=this,i=e.btnContainer[o],r=Object.prototype.toString;return"[object String]"!=r.call(o)&&(n=o,i=e.btnContainer.right),n.forEach(function(o){o instanceof t.Base&&(o=o.getEl()),e._addBtn(i,o)}),e},show:function(){var t=this;return t.$el.show(),t.trigger("show"),t.isShowing=!0,t},hide:function(){var t=this;return t.$el.hide(),t.trigger("hide"),t.isShowing=!1,t},toggle:function(){var t=this;return t.isShowing===!1?t.show():t.hide(),t},_removeDom:function(){var t=this,o=t.$el;t._options.setup===!1?o.remove():o.css("position","static").css("top","auto")}})}(gmu,gmu.$);